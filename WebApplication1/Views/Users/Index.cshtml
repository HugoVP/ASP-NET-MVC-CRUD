
@{
    ViewBag.Title = "Usuarios";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var header = (string)ViewBag.Header;
}

<h3 class="mt-3">@header</h3>
<hr />

<div id="formContent">
    @{ Html.RenderAction("Save"); }
</div>

<hr />

<div id="tableContent">
    @{ Html.RenderAction("List"); }
</div>

@*@Html.ActionLink("Save", "Users");*@

@*@section scripts {
    <script type="text/javascript">
        
        var spinnerContent = '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Guardando...';

        function saveUserSubmit() {
            $('#btnSubmit').html(spinnerContent);
            $('#FormUser:input').prop('disabled', true);
            //const url = '@Url.Action("Save", "Users")';

            var form = $('#FormUser');
            var url = form.attr('action');
            var data = form.serialize();

            $.post(url, data, function (res) {
                $('#formContent').html(res);
                var urlUserTable = '@Url.Action("List", "Users")';

                $.get(urlUserTable, function (res) {
                    $('#tableContent').fadeOut(function () {
                        $(this).html(res);
                        $(this).fadeIn();
                    });
                });
            });
        }
    </script>
}*@

